{"version":3,"sources":["aws-config.js","ImageDetect.js","VideoDetect.js","App.js","index.js"],"names":["AWS","config","region","credentials","CognitoIdentityCredentials","IdentityPoolId","rekognition","Rekognition","apiVersion","ImageDetect","useState","image","setImage","imageData","setImageData","result","setResult","loading","setLoading","handleClick","reader","FileReader","readAsArrayBuffer","onload","e","params","Image","Bytes","recognizeCelebrities","err","data","console","log","alert","useEffect","readAsDataURL","className","type","id","onChange","target","files","accept","htmlFor","name","src","width","onClick","CelebrityFaces","map","key","Id","Name","MatchConfidence","renderSuccessResult","UnrecognizedFaces","length","renderFailResult","VideoDetect","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"qNAEAA,IAAIC,OAAOC,OAAS,YACpBF,IAAIC,OAAOE,YAAc,IAAIH,IAAII,2BAA2B,CACxDC,eAAgB,mDAGb,IAAIC,EAAc,IAAIN,IAAIO,YAAY,CAAEC,WAAY,eCiH5CC,EArHK,WAAO,IAAD,EACIC,mBAAS,IADb,mBACfC,EADe,KACRC,EADQ,OAEYF,mBAAS,IAFrB,mBAEfG,EAFe,KAEJC,EAFI,OAIMJ,mBAAS,CAAC,KAJhB,mBAIfK,EAJe,KAIPC,EAJO,OAKQN,oBAAS,GALjB,mBAKfO,EALe,KAKNC,EALM,KAWhBC,EAAc,WAChB,IAAIC,EAAS,IAAIC,WAEZV,GAKLS,EAAOE,kBAAkBX,GACzBS,EAAOG,OAAS,SAAAC,GACZ,IAAIC,EAAS,CACTC,MAAO,CACHC,MAAOP,EAAOL,SAGtBG,GAAW,GACXZ,EAAYsB,qBAAqBH,EAAQ,SAACI,EAAKC,GACvCD,EAAKE,QAAQC,IAAIH,IAEjBb,EAAUc,GACVZ,GAAW,QAhBnBe,MAAM,6BAyCdC,oBAAU,WACN,GAAIvB,EAAO,CACP,IAAIS,EAAS,IAAIC,WACjBD,EAAOe,cAAcxB,GACrBS,EAAOG,OAAS,WACZT,EAAaM,EAAOL,WAG7B,CAACJ,EAAOE,IA2BX,OACI,6BACI,yBAAKuB,UAAU,eACX,2BACIC,KAAK,OACLD,UAAU,oBACVE,GAAG,aACHC,SA3FK,SAAAf,GACjBZ,EAASY,EAAEgB,OAAOC,MAAM,KA2FZC,OAAO,YAEX,2BAAON,UAAU,oBAAoBO,QAAQ,cACxChC,EAAMiC,MAAQ,gBAIvB,yBAAKR,UAAU,eACX,yBAAKS,IAAKhC,EAAWuB,UAAU,eAAeU,MAAO,MACrD,8BAtEQ,IAAZ7B,EAEI,4BACImB,UAAU,+BACVW,QAAS5B,GAFb,WAOe,IAAZF,EAEH,4BAAQmB,UAAU,yCAAlB,oBAFD,GAmBiB,WACxB,GAAIrB,EAAOiC,eACP,OAAOjC,EAAOiC,eAAeC,IAAI,SAAAzB,GAAC,OAC9B,yBACI0B,IAAK1B,EAAE2B,GACPf,UAAU,0DAEV,gCAASZ,EAAE4B,MACX,uCAAa5B,EAAE6B,gBAAf,SAqCPC,GA/BgB,WACrB,GAAIvC,EAAOwC,mBAAqBxC,EAAOwC,kBAAkBC,OAAS,EAC9D,OACI,yBAAKpB,UAAU,sBACX,gCAASrB,EAAOwC,kBAAkBC,QADtC,6BA6BHC,KC7GEC,EAJK,WAChB,OAAO,gDCiBIC,EAdH,WACR,OACI,kBAAC,IAAD,KACI,yBAAKvB,UAAU,aACX,wBAAIA,UAAU,WAAd,2BACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOwB,KAAK,IAAIC,OAAK,EAACC,UAAWrD,IACjC,kBAAC,IAAD,CAAOmD,KAAK,SAASC,OAAK,EAACC,UAAWJ,QCT1DK,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.7ce4ccc6.chunk.js","sourcesContent":["import AWS from \"aws-sdk\";\r\n\r\nAWS.config.region = \"us-east-1\"; // Region\r\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\r\n    IdentityPoolId: \"us-east-1:cc9fadcf-503b-41f1-a7c1-7f1da0b9a014\"\r\n});\r\n\r\nexport let rekognition = new AWS.Rekognition({ apiVersion: \"2016-06-27\" });\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { rekognition } from \"./aws-config\";\r\n\r\nconst ImageDetect = () => {\r\n    const [image, setImage] = useState(\"\");\r\n    const [imageData, setImageData] = useState(\"\"); //Data URL of image, use this to preview image\r\n\r\n    const [result, setResult] = useState([{}]); //Array of FaceDetail Object\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleChange = e => {\r\n        setImage(e.target.files[0]);\r\n    };\r\n\r\n    const handleClick = () => {\r\n        let reader = new FileReader();\r\n\r\n        if (!image) {\r\n            alert(\"You need to upload Image\");\r\n            return;\r\n        }\r\n\r\n        reader.readAsArrayBuffer(image);\r\n        reader.onload = e => {\r\n            let params = {\r\n                Image: {\r\n                    Bytes: reader.result\r\n                }\r\n            };\r\n            setLoading(true);\r\n            rekognition.recognizeCelebrities(params, (err, data) => {\r\n                if (err) console.log(err);\r\n                else {\r\n                    setResult(data);\r\n                    setLoading(false);\r\n                }\r\n            });\r\n        };\r\n    };\r\n\r\n    const RenderLoadingButton = () => {\r\n        if (loading === false) {\r\n            return (\r\n                <button\r\n                    className=\"btn btn-primary mx-auto mb-4\"\r\n                    onClick={handleClick}\r\n                >\r\n                    Detect\r\n                </button>\r\n            );\r\n        } else if (loading === true) {\r\n            return (\r\n                <button className=\"btn btn-primary mx-auto mb-4 disabled\">\r\n                    Loading ...\r\n                </button>\r\n            );\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (image) {\r\n            let reader = new FileReader();\r\n            reader.readAsDataURL(image);\r\n            reader.onload = () => {\r\n                setImageData(reader.result);\r\n            };\r\n        }\r\n    }, [image, imageData]);\r\n\r\n    const renderSuccessResult = () => {\r\n        if (result.CelebrityFaces) {\r\n            return result.CelebrityFaces.map(e => (\r\n                <div\r\n                    key={e.Id}\r\n                    className=\"d-flex justify-content-around alert alert-success mx-1\"\r\n                >\r\n                    <strong>{e.Name}</strong>\r\n                    <div>Match: {e.MatchConfidence} %</div>\r\n                </div>\r\n            ));\r\n        }\r\n    };\r\n\r\n    const renderFailResult = () => {\r\n        if (result.UnrecognizedFaces && result.UnrecognizedFaces.length > 0) {\r\n            return (\r\n                <div className=\"alert alert-danger\">\r\n                    <strong>{result.UnrecognizedFaces.length}</strong> faces can\r\n                    not regconized\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"custom-file\">\r\n                <input\r\n                    type=\"file\"\r\n                    className=\"custom-file-input\"\r\n                    id=\"customFile\"\r\n                    onChange={handleChange}\r\n                    accept=\"image/*\"\r\n                />\r\n                <label className=\"custom-file-label\" htmlFor=\"customFile\">\r\n                    {image.name || \"Choose file\"}\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"text-center\">\r\n                <img src={imageData} className=\"mx-auto my-4\" width={450} />\r\n                <br />\r\n                {RenderLoadingButton()}\r\n            </div>\r\n            {renderSuccessResult()}\r\n            {renderFailResult()}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImageDetect;\r\n","import React from \"react\";\r\n\r\nconst VideoDetect = () => {\r\n    return <h1>Detect by video</h1>;\r\n};\r\n\r\nexport default VideoDetect;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Link, Switch } from \"react-router-dom\";\r\n\r\nimport ImageDetect from \"./ImageDetect\";\r\nimport VideoDetect from \"./VideoDetect\";\r\n\r\nconst App = () => {\r\n    return (\r\n        <BrowserRouter>\r\n            <div className=\"container\">\r\n                <h1 className=\"mx-auto\">Celebrities Regkonition</h1>\r\n                <Switch>\r\n                    <Route path=\"/\" exact component={ImageDetect} />\r\n                    <Route path=\"/video\" exact component={VideoDetect} />\r\n                </Switch>\r\n            </div>\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n"],"sourceRoot":""}